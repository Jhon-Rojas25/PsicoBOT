# Reintento: Crear y guardar el archivo docentezen_plus.py con el cÃ³digo completo para el chatbot avanzado

codigo_chatbot_avanzado = """
import streamlit as st
import time

st.set_page_config(page_title="DocenteZen+ - Apoyo Emocional Profundo", layout="centered")
st.title("ğŸŒ¿ DocenteZen+ â€“ Tu CompaÃ±ero Emocional Docente")

st.markdown(\"\"\"
Bienvenido/a al espacio de autocuidado y contenciÃ³n. Este chatbot estÃ¡ diseÃ±ado para acompaÃ±arte en momentos de estrÃ©s, ansiedad o agotamiento. Puedes hablar libremente. ğŸ’¬
\"\"\")

opcion = st.selectbox("Â¿QuÃ© necesitas hoy?", [
    "Selecciona una opciÃ³n",
    "Conversar profundamente",
    "Ejercicios para aliviar estrÃ©s",
    "Frases de apoyo emocional",
    "Test rÃ¡pido de estrÃ©s",
    "Solicitar ayuda profesional"
])

# ConversaciÃ³n profunda
if opcion == "Conversar profundamente":
    st.subheader("ğŸ§  Espacio de conversaciÃ³n emocional")

    tema = st.radio("Â¿Sobre quÃ© te gustarÃ­a hablar?", [
        "Me siento agotado emocionalmente",
        "He perdido motivaciÃ³n por enseÃ±ar",
        "Me siento frustrado/a con mi entorno",
        "Solo quiero desahogarme"
    ])

    if tema == "Me siento agotado emocionalmente":
        st.write("El agotamiento emocional es una seÃ±al importante. Has estado cargando mucho. ğŸ˜")
        st.write("Â¿CuÃ¡ndo fue la Ãºltima vez que tuviste un momento solo para ti?")
        st.text_area("CuÃ©ntame mÃ¡s si quieres...")

    elif tema == "He perdido motivaciÃ³n por enseÃ±ar":
        st.write("Es normal que la vocaciÃ³n tambalee. EnseÃ±ar en condiciones difÃ­ciles agota.")
        st.write("Â¿QuÃ© te inspiraba antes? Â¿QuÃ© te gustarÃ­a recuperar?")
        st.text_area("Puedes escribir lo que estÃ¡s sintiendo...")

    elif tema == "Me siento frustrado/a con mi entorno":
        st.write("La frustraciÃ³n sostenida genera desgaste. Â¿QuÃ© cosas crees que estÃ¡n fuera de tu control?")
        st.write("Podemos enfocarnos en lo que sÃ­ puedes manejar hoy.")
        st.text_area("Expresa lo que te incomoda:")

    elif tema == "Solo quiero desahogarme":
        st.write("AquÃ­ tienes un espacio libre de juicio. Escribe lo que necesites.")
        st.text_area("Tu espacio:")

    st.info("Recuerda: Hablar es sanar. Eres escuchado/a.")

# Ejercicios de alivio emocional
elif opcion == "Ejercicios para aliviar estrÃ©s":
    st.subheader("ğŸ§˜ Ejercicios recomendados")
    ejercicio = st.radio("Â¿QuÃ© ejercicio te gustarÃ­a hacer ahora?", [
        "RespiraciÃ³n guiada 4-7-8",
        "Body Scan de 2 minutos",
        "Escritura emocional (journaling)"
    ])

    if ejercicio == "RespiraciÃ³n guiada 4-7-8":
        st.write("ğŸ§˜ Inhala por 4s... SostÃ©n 7s... Exhala 8s... Repite por 3 ciclos.")
        for i in range(3):
            st.write(f"**Ciclo {i+1}/3**")
            with st.spinner("Inhala profundamente..."):
                time.sleep(4)
            with st.spinner("SostÃ©n el aire..."):
                time.sleep(7)
            with st.spinner("Exhala lentamente..."):
                time.sleep(8)
        st.success("Bien hecho. Â¿CÃ³mo te sientes ahora?")

    elif ejercicio == "Body Scan de 2 minutos":
        st.write("Cierra los ojos y lleva tu atenciÃ³n a cada parte del cuerpo, desde la cabeza hasta los pies. Observa sin juzgar.")
        st.write("Mantente presente durante 2 minutos.")
        time.sleep(10)  # SimulaciÃ³n breve
        st.success("Ejercicio finalizado. Observa cÃ³mo se siente tu cuerpo.")

    elif ejercicio == "Escritura emocional (journaling)":
        st.write("Escribe sin filtro lo que estÃ¡s sintiendo. No necesitas corregir, solo soltar.")
        texto = st.text_area("Empieza a escribir aquÃ­...")
        if texto:
            st.success("Gracias por compartir. Es un acto de valentÃ­a.")

# Frases emocionales
elif opcion == "Frases de apoyo emocional":
    st.subheader("ğŸ’¬ Frases reconfortantes para docentes")
    frases = [
        "Tu esfuerzo deja huellas aunque hoy no lo veas.",
        "No estÃ¡s solo/a. Tus emociones importan.",
        "La educaciÃ³n necesita corazones como el tuyo. CuÃ­dalo.",
        "Eres mÃ¡s que tu rendimiento. Eres humano/a.",
        "Respira. Tu valor no se mide en productividad.",
        "Hoy basta con intentarlo. No tienes que poder con todo."
    ]
    st.info(frases[time.time_ns() % len(frases)])

# Test de estrÃ©s
elif opcion == "Test rÃ¡pido de estrÃ©s":
    st.subheader("ğŸ§ª EvaluaciÃ³n de EstrÃ©s Breve")
    preguntas = [
        "Me siento bajo presiÃ³n constante.",
        "Siento que no tengo tiempo para mÃ­.",
        "He tenido cambios en mi sueÃ±o o apetito.",
        "Siento que no puedo cumplir con todo.",
    ]
    opciones = {"Nunca": 0, "A veces": 1, "Frecuentemente": 2, "Siempre": 3}
    puntuacion = 0

    for p in preguntas:
        respuesta = st.radio(p, list(opciones.keys()), key=p)
        puntuacion += opciones[respuesta]

    if st.button("Evaluar"):
        if puntuacion <= 3:
            st.success("Nivel de estrÃ©s bajo. Â¡Sigue asÃ­! ğŸ’ª")
        elif puntuacion <= 6:
            st.warning("EstrÃ©s moderado. Intenta tomar pausas o pedir apoyo.")
        else:
            st.error("EstrÃ©s alto. Busca ayuda emocional si lo necesitas. No estÃ¡s solo/a.")

# Ayuda profesional
elif opcion == "Solicitar ayuda profesional":
    st.warning("ğŸ“ LÃ­nea gratuita de salud mental MINSA: 113 opciÃ³n 5")
    st.write("TambiÃ©n puedes acudir al servicio psicolÃ³gico de la UNMSM o conversar con un especialista.")

st.markdown("---")
st.caption("Chatbot educativo y emocional. No sustituye atenciÃ³n psicolÃ³gica profesional.")
"""

archivo = "/mnt/data/docentezen_plus.py"
with open(archivo, "w", encoding="utf-8") as f:
    f.write(codigo_chatbot_avanzado)

archivo
